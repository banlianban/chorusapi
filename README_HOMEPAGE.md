# Chorus API 主页使用说明

## 📋 概述

这是一个为 Chorus API 创建的现代化静态主页，提供完整的API介绍、文档和交互式演示功能。

## 🚀 快速开始

### 1. 启动API服务

在项目根目录中运行以下命令之一：

```bash
# 方法1: 使用启动脚本（推荐）
python start_api.py

# 方法2: 直接运行
python main.py

# 方法3: 使用uvicorn
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

### 2. 打开主页

在浏览器中打开 `index.html` 文件，或者访问：
- 主页: http://localhost:8000
- API文档: http://localhost:8000/docs
- ReDoc文档: http://localhost:8000/redoc

## 🎨 主页特性

### 设计特色
- **现代化UI** - 渐变背景、毛玻璃效果、响应式设计
- **动画交互** - 悬停效果、平滑滚动、加载动画
- **移动适配** - 完美支持桌面和移动设备

### 功能模块
1. **英雄区域** - 突出展示API核心价值
2. **功能特性** - 6个核心功能卡片展示
3. **API文档** - 完整的端点文档和示例
4. **在线演示** - 交互式文件上传和副歌提取
5. **页脚信息** - 联系方式和相关链接

### 交互功能
- **文件拖拽上传** - 支持拖拽音频文件到上传区域
- **实时处理反馈** - 显示加载状态和处理结果
- **智能错误处理** - 详细的错误提示和解决方案
- **API状态检测** - 自动检测API服务是否运行

## 🛠️ 技术实现

### 前端技术
- **纯HTML/CSS/JavaScript** - 无外部依赖，完全自包含
- **现代CSS** - Flexbox、Grid、CSS变量、动画
- **ES6+ JavaScript** - 异步处理、Fetch API、事件处理

### 错误处理
- **连接检测** - 自动检测API服务状态
- **友好提示** - 详细的错误信息和解决方案
- **降级处理** - API不可用时的优雅降级

## 📱 使用说明

### 在线演示功能

1. **启动API服务** - 确保Chorus API在8000端口运行
2. **选择音频文件** - 点击或拖拽上传音频文件
3. **设置参数** - 选择副歌时长和质量设置
4. **开始处理** - 点击"提取副歌"按钮
5. **查看结果** - 查看处理结果并下载副歌文件

### 支持的音频格式
- MP3 (.mp3)
- WAV (.wav)
- M4A (.m4a)
- FLAC (.flac)
- AAC (.aac)
- OGG (.ogg)

### 参数说明
- **副歌时长**: 10-120秒，默认30秒
- **质量设置**:
  - 低质量: 22.05kHz, 16-bit（快速处理）
  - 中等质量: 44.1kHz, 16-bit（平衡）
  - 高质量: 44.1kHz, 24-bit（最佳效果）

## 🔧 自定义配置

### 修改API地址
如果需要修改API服务地址，编辑 `index.html` 中的 `getApiBaseUrl()` 函数：

```javascript
function getApiBaseUrl() {
    const possibleUrls = [
        'http://localhost:8000',      // 默认地址
        'http://127.0.0.1:8000',      // 备用地址
        'http://your-api-server.com'  // 自定义地址
    ];
    return possibleUrls[0];
}
```

### 样式自定义
主页使用内联CSS，可以轻松修改：
- 颜色主题：修改CSS变量
- 布局：调整Grid和Flexbox设置
- 动画：修改transition和animation属性

## 📦 部署说明

### 静态部署
主页是完全静态的，可以部署到任何静态网站托管服务：

- **GitHub Pages** - 免费静态网站托管
- **Netlify** - 自动部署和CDN
- **Vercel** - 快速部署和全球CDN
- **阿里云OSS** - 国内访问优化

### 本地使用
直接双击 `index.html` 文件即可在浏览器中打开使用。

## 🐛 故障排除

### 常见问题

1. **"Failed to fetch" 错误**
   - 确保API服务正在运行
   - 检查端口8000是否被占用
   - 确认防火墙设置

2. **文件上传失败**
   - 检查文件格式是否支持
   - 确认文件大小未超过50MB
   - 验证网络连接

3. **副歌提取失败**
   - 确认音频文件未损坏
   - 尝试不同的质量设置
   - 检查音频是否包含明显的副歌部分

### 调试方法
- 打开浏览器开发者工具查看控制台错误
- 检查网络请求是否成功
- 查看API服务日志输出

## 📄 许可证

本项目基于 [pychorus](https://github.com/vivjay30/pychorus) 库构建，请参考原始库的许可证了解使用条款。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个主页！

## 📞 支持

如遇到问题：
1. 查看API文档：`/docs` 或 `/redoc`
2. 检查浏览器控制台错误信息
3. 确认API服务正常运行
4. 验证音频文件格式和大小


